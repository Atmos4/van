<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VanJS + WebComponents</title>
</head>
<body>
  <h1>Webcomponents + VanJS = ❤️</h1>
  <counter-add></counter-add>
  <counter-row>✅</counter-row>

  <script type="module">
    import van from "vanjs-core";
    import {createComponent} from "./src/van-component";

    const {button, div, slot} = van.tags;

    const Counter = ({plus, minus}) => {
      const counter = van.state(0)
      const dom = div(
        slot(),
        " ", counter, " ",
        button({onclick: () => ++counter.val}, plus ?? "+"),
        button({onclick: () => --counter.val}, minus ?? "-"),
        button({onclick: () => dom.remove()}, "❌")
      )
      return dom;
    }

    createComponent("counter-row", Counter);
    createComponent("counter-add", () => button({onclick: () => van.add(document.body, van.tags["counter-row"]("❤️"))}, "Add"));
  </script>
</body>
</html>