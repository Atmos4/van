{let t,e,o,l,n,r,s,f,i,a,u,d,w,g,h,_,v,c,S,V;r=(n=Object).getPrototypeOf,s=document,f=(t,e,o,l)=>(t??(setTimeout(o,l),new Set)).add(e),a=r(i={get val(){return o?.(this),this.t},get oldVal(){return o?.(this),this.o},set val(t){let o=this,l=o.t;if(t!==l){e=f(e,o,S),o.t=t;for(let e of o.l)e(t,l)}},onnew(t){this.l.push(t)}}),u=t=>r(t??0)===i,d=t=>u(t)?t.val:t,w=t=>t.nodeType?t:new Text(t),g=t=>t.i=t.i.filter(t=>t.u?.isConnected),h=(e,n)=>{const r={f:e};return r.u=w(((t,e,l)=>{let n=o;o=e;let r=t(l);return o=n,r})(e,e=>{l=f(l,e,()=>(l.forEach(g),l=t),1e3),e.i.push(r)},n))},v={},c=e=>new Proxy((o,...l)=>{let[f,...i]=r(l[0]??0)===a?l:[{},...l],d=e?s.createElementNS(e,o):s.createElement(o);for(let[e,l]of n.entries(f)){let s=o=>o?n.getOwnPropertyDescriptor(o,e)??s(r(o)):t,f=o+","+e,i=v[f]??(v[f]=s(r(d))?.set??0),a=i?i.bind(d):d.setAttribute.bind(d,e);u(l)?h(()=>(a(l.val),d)):e.startsWith("on")||"function"!=typeof l?a(l):h(()=>(a(l()),d))}return _(d,...i)},{get:(e,o)=>e.bind(t,o)}),S=()=>{let o=[...e].filter(t=>t.t!==t.o);e=t;for(let e of new Set(o.flatMap(g))){let o=e.u,l=h(e.f,o);e.u=t,l!==o&&(l!=t?o.replaceWith(l):o.remove())}for(let t of o)t.o=t.t},V={add:_=(e,...o)=>{for(let l of o.flat(1/0))d(l)!=t&&e.appendChild(u(l)?h(()=>l.val):w(l));return e},tags:c(),tagsNS:c,state:t=>({__proto__:i,t:t,o:t,i:[],l:[]}),val:d,oldVal:t=>u(t)?t.oldVal:t},window.van=V;}